webpackJsonp([5],{"9YDz":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("4YfN"),s=a.n(i),n={name:"index",data:function(){return{hasLoading:!1,dataList:[],totalNum:0,typeName:"",listQuery:{currentPage:1,size:3,keyword:"",typeId:""},typeList:[{id:"",name:"请选择"},{id:"1",name:"藏品"},{id:"2",name:"博物馆"},{id:"3",name:"展览"},{id:"4",name:"数字展厅"},{id:"5",name:"新闻动态"},{id:"6",name:"通知公告"},{id:"7",name:"学术讲座"},{id:"8",name:"亲子活动"},{id:"9",name:"文创产品"}],typeArray:{1:"藏品",2:"博物馆",3:"展览",4:"数字展厅",5:"新闻动态",6:"通知公告",7:"学术讲座",8:"亲子活动",9:"文创产品"},thmlArray:{1:"/collection/detail",2:"/province/detail",3:"/exhibition/detail",4:"",5:"/information/infodetail?type=info",6:"/information/infodetail?type=notice",7:"/information/studydetail?type=study",8:"/information/studydetail?type=activity",9:"/artical/detail"}}},watch:{$route:function(){"/demo/searchlist"===this.$route.path&&(this.listQuery.keyword=unescape(this.$route.query.keyword||""),this.getData())}},methods:{selectType:function(t){this.listQuery.typeId=t,this.getData()},brightenKeyword:function(t,e){if(!e)return t;var a=new RegExp(e,"i");return t?t.replace(a,'<span style="color: #49A6FF;">'+e+"</span>"):void 0},search:function(){this.getData()},gotopage:function(t,e,a){this.$router.push({path:"/demo/detail",query:{id:t}})},handleCurrentChange:function(t){this.listQuery.currentPage=t,this.getData()},getData:function(){var t=this;this.$http.get("/list/search",s()({},this.listQuery)).then(function(e){1==e.success&&(t.totalNum=e.page.allRow,t.dataList=e.data,t.hasLoading=!t.dataList.length)})}},created:function(){this.listQuery.keyword=unescape(this.$route.query.keyword||""),this.getData()}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"g-content-wrap"},[a("div",{staticClass:"search page-search"},[a("div",{staticClass:"content"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[t._v("搜索结果")])],1),t._v(" "),a("div",{staticClass:"listCont"},[a("div",{staticClass:"searchcont"},[a("span",[t._v("分类")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.selectType},model:{value:t.typeName,callback:function(e){t.typeName=e},expression:"typeName"}},t._l(t.typeList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1),t._v(" "),a("el-input",{staticClass:"key-box",attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.listQuery.keyword,callback:function(e){t.$set(t.listQuery,"keyword",e)},expression:"listQuery.keyword"}}),t._v(" "),a("button",{staticClass:"btn",on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),t._m(0),t._v(" "),a("ul",{staticClass:"list"},[t._l(t.dataList,function(e){return a("li",{key:e.id,on:{click:function(a){return t.gotopage(e.id,e.type,e)}}},[a("div",{staticClass:"names"},[a("span",{staticClass:"circle"}),t._v(" "),a("span",{staticClass:"name ellipse",domProps:{innerHTML:t._s(t.brightenKeyword(e.name,t.listQuery.keyword))}})]),t._v(" "),a("span",{staticClass:"type"},[t._v(t._s(t.typeArray[e.type]))])])}),t._v(" "),0===t.dataList.length&&t.hasLoading?a("div",{staticClass:"g-no-databox"},[t._m(1)]):t._e()],2),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.dataList.length&&!t.hasLoading,expression:"dataList.length && !hasLoading"}],staticClass:"g-outline",attrs:{background:"",layout:"prev, pager, next","current-page":t.listQuery.currentPage,"page-size":t.listQuery.size,total:t.totalNum},on:{"current-change":t.handleCurrentChange}})],1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"listTitle"},[e("span",[this._v("来源")]),this._v(" "),e("span",[this._v("类型")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"g-no-data"},[e("div",{staticClass:"no-data-bg"})])}]};var l=a("C7Lr")(n,r,!1,function(t){a("I6q3"),a("X1Id")},"data-v-164962d3",null);e.default=l.exports},I6q3:function(t,e){},X1Id:function(t,e){}});
//# sourceMappingURL=5.1ac48b4ac32716742355.js.map